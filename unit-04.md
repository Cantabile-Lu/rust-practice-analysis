## [åŸºæœ¬ç±»å‹](https://zh.practice.rs/basic-types/intro.html)

###### [æ•°å€¼ç±»å‹](https://zh.practice.rs/basic-types/numbers.html)

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- å¦‚æœå£°æ˜çš„ç±»å‹ä¸åŒä¸èƒ½èµ‹å€¼

å¯ä»¥æ˜¾ç¤ºç»‘å®šç›¸åŒç±»å‹ï¼Œ æˆ–è€…ç¼–è¯‘å™¨è‡ªåŠ¨å¸®æˆ‘ä»¬æ¨å¯¼ä¸€ä¸ªç±»å‹ã€‚

æ­£ç¡®ä»£ç å¦‚ä¸‹

```rust
fn main() {
    let x: i32 = 5;
  - let mut y: u32 = 5;
  + let mut y = 5;
    y = x;
    println!("{y}");   
    let _z = 10; // æœªä½¿ç”¨çš„å˜é‡åˆ™éœ€è¦æ·»åŠ _ 
}
```

2. ğŸŒŸ

- ä¸åŒç±»å‹ä¸èƒ½èµ‹å€¼`as`å…³é”®å­—å¯ä»¥å¼ºåˆ¶è½¬ç±»å‹è½¬æ¢

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    - let v: u16 = 38_u8 as __;
    + let v: u16 = 38_u8 as u16;
    println!("{v}")
}
```

3. ğŸŒŸğŸŒŸğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- æ•´å½¢é»˜è®¤ä½¿ç”¨çš„æ˜¯`i32`

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    let x = 5;// é»˜è®¤ä¸º i32
    - assert_eq!("u32".to_string(), type_of(&x));
    + assert_eq!("i32".to_string(), type_of(&x));
}
// ä»¥ä¸‹å‡½æ•°å¯ä»¥è·å–ä¼ å…¥å‚æ•°çš„ç±»å‹ï¼Œå¹¶è¿”å›ç±»å‹çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œä¾‹å¦‚  "i8", "u8", "i32", "u32"
fn type_of<T>(_: &T) -> String {
    format!("{}", std::any::type_name::<T>())
}
```

4. ğŸŒŸğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- `i8`çš„æ•°å­—èŒƒå›´å€¼æ˜¯`-(2^n - 1) ~ (2^n - 1) - 1` å³`-(2^7) ~ 2^7 - 1` = -128 ~ 127
- `u8`çš„æ•°å­—èŒƒå›´æ˜¯`0 ~ 2^n - 1` å³ `0 ~ 2^8 - 1`  = 0 ~ 255
- `::MAX`è¡¨ç¤ºèŒƒå›´å†…æœ€å¤§å€¼ã€‚

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
   - assert_eq!(i8::MAX, __); 
   - assert_eq!(u8::MAX, __); 
   + assert_eq!(i8::MAX, 127); 
   + assert_eq!(u8::MAX, 255); 
}
```

5. ğŸŒŸğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- å·²çŸ¥`u8`çš„æœ€å¤§å­˜å‚¨å€¼æ˜¯`255`, é‚£ä¹ˆ `251 + 8` ç»“æœæ˜¯`259`æ˜¾ç„¶å·²ç»è¶…è¿‡`u8`ç±»å‹çš„å–å€¼èŒƒå›´ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šæº¢å‡ºï¼Œ ç¼–è¯‘å™¨ä¹Ÿä¼šæ˜¾ç¤ºé”™è¯¯ã€‚
- `::checked_add`æ‰§è¡ŒåŠ æ³•å¹¶æ£€æŸ¥æº¢å‡ºï¼Œ å¦‚æœæ²¡æœ‰æº¢å‡ºè¿”å›åŠ æ³•ç»“æœï¼Œåä¹‹ä¼šå¯¼è‡´`panic`

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    -let v1 = 251_u8 + 8;
    +let v1 = 100_u8 + 8;
    -let v2 = i8::checked_add(251, 8).unwrap();
    +let v2 = i8::checked_add(100, 8).unwrap();
    println!("{},{}",v1,v2);
 }
```

6. ğŸŒŸğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- `assert`æ˜¯ä¸€ä¸ªæ–­è¨€å‡½æ•°ï¼Œ æ–­è¨€æ˜¯å¦ä¸ºçœŸã€‚
- `1_024`è¡¨ç¤ºåè¿›åˆ¶1024
- `0xff`è¡¨ç¤ºåå…­è¿›åˆ¶æ•°255
- `0o77`è¡¨ç¤ºå…«è¿›åˆ¶æ•°63
- `0b1111_1111`è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ•°255

å°†ç»“æœç›¸åŠ æ–­è¨€æ˜¯å¦å’Œ1579ç›¸ç­‰

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    let v = 1_024 + 0xff + 0o77 + 0b1111_1111;
    +println!("{v}"); //è·å¾—ç›¸åŠ ç»“æœ
    -assert!(v == 1579);
    +assert!(v ï¼= 1579);
}
```

7. ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- é»˜è®¤æµ®ç‚¹ç±»å‹æ˜¯`f64`

```rust
fn main() {
    let x = 1_000.000_1; // æ‰€ä»¥æµ®ç‚¹ç±»å‹æ˜¯f64
    let y: f32 = 0.12; // f32
    let z = 0.01_f64; // f64
}
```

8. ğŸŒŸğŸŒŸ ä½¿ç”¨ä¸¤ç§æ–¹æ³•æ¥è®©ä¸‹é¢ä»£ç å·¥ä½œ

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨Rustä¸­ï¼š

- é»˜è®¤ç±»å‹æ˜¯`f64`ï¼Œå…¶ç²¾åº¦æ¯”`f32`æ›´é«˜

å› ä¸ºäºŒè¿›åˆ¶çš„ç²¾åº¦é—®é¢˜ï¼Œæ‰€ä»¥å¯¼è‡´äº†è¿›åˆ¶è½¬æ¢å¸¦æ¥çš„åå·®ï¼Œå¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨`f32`ç±»å‹

```rust
let v = 0.1_f64+ 0.2_f64;
println!("{v}"); // 0.30000000000000004

let v = 0.1_f32+ 0.2_f32;
println!("{v}"); // 0.3
```

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š 

```rust
fn main() {
    let v = 0.1_f64+ 0.2_f64;
    println!("{v}"); // 0.30000000000000004

    let v = 0.1_f32+ 0.2_f32;
    println!("{v}"); // 0.3

   let v = (0.1_f64 + 0.2_f64 - 0.3_f64).abs() < 0.000001;
    println!("{v}"); // true
}
```

9. ğŸŒŸğŸŒŸ ä¸¤ä¸ªç›®æ ‡: 1. ä¿®æ”¹ `assert!` è®©å®ƒå·¥ä½œ 2. è®© `println!` è¾“å‡º: 97 - 122

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

- `..`ä¸`..=`çš„åŒºåˆ«æ˜¯å‰è€…åˆ›å»ºçš„èŒƒå›´ä»å¼€å§‹å€¼åˆ°ç»“æŸå€¼ï¼Œä¸”ä¸åŒ…å«ç»“æŸå€¼ï¼Œåè€…å¼€å§‹å€¼å’Œç»“æŸå€¼éƒ½åœ¨å†…ã€‚

æ‰€ä»¥`-3..2`èµ·å§‹æ˜¯`-3`ç»“æŸæ˜¯`1`ï¼Œ è¿›è¡Œè¿ç®—åçš„ç»“æœå°±æ˜¯ `-2`

```rust
for i in -3..2 {
    println!("{i}"); // -3  -2 -1 0 1
}
```

- `'a'..='z'`ç”Ÿæˆä¸€ä¸ªå­—ç¬¦èŒƒå›´ï¼ŒåŒ…æ‹¬`a`å’Œ`z`, åœ¨è¿­ä»£å­—ç¬¦æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¿­ä»£Unicodeç¼–ç å€¼çš„èŒƒå›´ï¼Œå…¶å­—ç¬¦`a`å¯¹åº”çš„ç¼–ç å€¼æ­£æ˜¯97`b`å¯¹åº”çš„ç¼–ç å€¼æ˜¯98ä»¥æ­¤ç±»æ¨ã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡`as`å…³é”®å­—å¼ºåˆ¶è½¬æ¢ç±»å‹ä¸ºæ•°å€¼ç±»å‹ã€‚

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    let mut sum = 0;
    -for i in -3..2 {
    -  sum += i
    -}
    
    +for i in -3..=2 {
    +   sum += i
    +}
   assert!(sum == -3);
    
    for c in 'a'..='z' {
       - println!("{}",c);
       + println!("{}", c as i8 );
    }
    // å°† æ•°å€¼ç±»å‹è½¬ä¸ºa-z
   + for c in 97..=122 {
   +    let m = char::from(c);
   +    println!("{}", m);
   +}
    
}
```

10. ğŸŒŸğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

- `std::ops`æ˜¯Rustæ ‡å‡†åº“ä¸­çš„æ¨¡å—ï¼Œæä¾›äº†è®¸å¤šæ“ä½œç¬¦å’Œè¿ç®—ç¬¦ç›¸å…³çš„ç‰¹æ€§å’Œç±»å‹ã€‚
- `std::ops::Range`åˆ›å»ºä¸€ä¸ªä»èµ·å§‹å€¼å¼€å§‹ï¼Œä¸åŒ…å«ç»“æŸå€¼çš„èŒƒå›´ï¼Œå…¶å®šä¹‰ä¸º`start <= x < end`
- `std::ops::RangeInclusive::new`åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬èµ·å§‹å€¼å’Œç»“æŸå€¼çš„èŒƒå›´ï¼Œå…¶å®šä¹‰ä¸ºåŒ…å«`x >= start`å’Œ`x <= end`çš„æ‰€æœ‰å€¼ã€‚

æ˜¯ä¸æ˜¯è§‰å¾—ï¼šæˆ‘ä»¬å¥½åƒåœ¨å“ªå„¿è§è¿‡ï¼Œä½ è®°å¾—å—ï¼Ÿ

æ˜¯çš„ï¼Œ è¿™å’Œ`.. & ..=`åŒæ ·æ˜¯åˆ›å»ºèŒƒå›´çš„è¡¨ç¤ºæ–¹æ³• ï¼ŒåŒºåˆ«åœ¨äºå‰è€…æ˜¯ç»“æ„ä½“ç±»å‹ï¼Œåè€…æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ã€‚

```rust
use std::ops::{Range, RangeInclusive};
fn main() {
    let range = Range{start: 3,end: 5};
    for i in range {
        println!("{}", i); // è¾“å‡º 3, 4
    }
    for v in 3..5 {
        println!("{}", v); // è¾“å‡º 3, 4
    }
    
    let range_1: RangeInclusive<i32> = RangeInclusive::new(3, 5);

    for i in range_1 {
        println!("{}", i); // è¾“å‡º 3, 4, 5
    }
    for v1 in 3..=5 {
        println!("{}", v1); // è¾“å‡º 3, 4, 5
    }
}
```

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
use std::ops::{Range, RangeInclusive};
fn main() {
   - assert_eq!((1..__), Range{ start: 1, end: 5 });
   + assert_eq!((1..5), Range{ start: 1, end: 5 });
   - assert_eq!((1..__), RangeInclusive::new(1, 5));
   + assert_eq!((1..=5), RangeInclusive::new(1, 5));
}
```

11. ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

- æ•°å€¼ç±»å‹è¿ç®—éœ€è¦è€ƒè™‘åˆ°å€¼æ˜¯å¦åœ¨è§„å®šçš„èŒƒå›´å†…ã€‚

```rust
fn main() {
    // æ•´æ•°åŠ æ³•
    assert!(1u32 + 2 == 3);

    // æ•´æ•°å‡æ³•
    assert!(1i32 - 2 == -1);
    assert!(1i8 - 2 == -1); // u8ç±»å‹çš„å€¼æ˜¯ä»0å¼€å§‹çš„, æ‰€ä»¥éœ€è¦æ›´æ”¹ç±»å‹
    assert!(3 * 50 == 150);
    assert!(9.6_f32 / 3.2_f32 == 3.0); // error ! ä¿®æ”¹å®ƒè®©ä»£ç å·¥ä½œ
    assert!(24 % 5 == 4);
    
    // // é€»è¾‘ä¸æˆ–éæ“ä½œ
    assert!(true && false == false);
    assert!(true || false == true);
    assert!(!true == false);

    // // ä½æ“ä½œ
    println!("0011 AND 0101 is {:04b}", 0b0011u32 & 0b0101);
    println!("0011 OR 0101 is {:04b}", 0b0011u32 | 0b0101);
    println!("0011 XOR 0101 is {:04b}", 0b0011u32 ^ 0b0101);
    println!("1 << 5 is {}", 1u32 << 5);
    println!("0x80 >> 2 is 0x{:x}", 0x80u32 >> 2);
}
```

###### [å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹](https://zh.practice.rs/basic-types/char-bool-unit.html)

1. ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯`std::mem`æ˜¯Rustæ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œ è¯¥æ¨¡å—åŒ…å«ç”¨äºæŸ¥è¯¢ç±»å‹çš„å¤§å°å’Œå¯¹é½ï¼Œåˆå§‹åŒ–å’Œæ“ä½œå†…å­˜å‡½æ•°ã€‚

- `size_of_val`çš„ä½œç”¨æ˜¯è¿”å›æŒ‡å‘å€¼çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚
- `&`æ˜¯å¼•ç”¨æ“ä½œç¬¦ï¼Œå¼•ç”¨æŒ‡å‘æŸä¸ªå€¼çš„æŒ‡é’ˆï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨å€¼ä½†ä¸è·å–æ‰€æœ‰æƒã€‚

- ç”±äº`Unicode`éƒ½æ˜¯4ä¸ªå­—èŠ‚ç¼–ç ï¼Œå› æ­¤å­—ç¬¦ç±»å‹ä¹Ÿæ˜¯å ç”¨4ä¸ªå­—èŠ‚ã€‚

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
use std::mem::size_of_val;
fn main() {
    let c1 = 'a';
   - assert_eq!(size_of_val(&c1),1); 
   + assert_eq!(size_of_val(&c1),4); 

    let c2 = 'ä¸­';
   - assert_eq!(size_of_val(&c2),3); 
   + assert_eq!(size_of_val(&c2),4); 
    println!("Success!")
} 
```

2.  ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

- åœ¨Rustä¸­`''` ï¼ˆå•å¼•å·ï¼‰ä¸`""`ï¼ˆåŒå¼•å·ï¼‰å¹¶ä¸ç›¸åŒï¼Œå­—ç¬¦ç±»å‹ä½¿ç”¨çš„æ˜¯å•å¼•å·ï¼Œ è€ŒåŒå¼•å·æ˜¯å­—ç¬¦ä¸²

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š 

```rust
fn main() {
   - let c1 = "ä¸­";
   + let c1 = 'ä¸­';
    print_char(c1);
} 

fn print_char(c : char) {
    println!("{}", c);
}
```

3. ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

- `!`è¿ç®—ç¬¦åœ¨Rustä¸­æœ‰å¤šç§ç”¨æ³•ï¼Œ`!`æ˜¯ä»€ä¹ˆç”¨æ³•å–å†³äºå®ƒçš„å‰åæ–‡ã€‚

æ¯”å¦‚å®è°ƒç”¨

```rust
println!("{}");
```

æ¯”å¦‚ï¼š é€»è¾‘é

```rust
let is_true = true;
if !isTrue { ..};
```

æ¯”å¦‚ï¼š åœ¨å‡½æ•°ä»ä¸è¿”å›çš„æ—¶å€™å……å½“è¿”å›å€¼ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ ·çš„å†™æ³•é€šå¸¸æ˜¯é€šè¿‡æ’å…¥ä¸€äº›æ— é™å¾ªç¯æˆ–åœ¨ç»“æŸæ—¶å¼•èµ·`panic`ã€‚

```rust
fn bar() -> ! {panic!("This is a panic!");}
```

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    let _f: bool = false;

    let t = true;
    - if !t {
    + if !!t { || if t {
        println!("Success!")
    }
} 
```

4. ğŸŒŸ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼š`&&`é€»è¾‘ä¸è¿ç®—ç¬¦çš„è§„åˆ™å¦‚ä¸‹ï¼š

- å¦‚æœå·¦ä¾§æ“ä½œæ•°ä¸º`false`ï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœå°±æ˜¯`false`ï¼Œä¸è®¡ç®—å³ä¾§
- å¦‚æœå·¦ä¾§çš„æ“ä½œæ•°ä¸º`true`ï¼Œ é‚£ä¹ˆæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœå–å†³äºå³ä¾§æ“ä½œæ•°

```rust
true && false // false 
false && true  // false
true && true // true
```

æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š

```rust
fn main() {
    - let f = true;
    + let f = false;
    let t = true && false;
    assert_eq!(t, f);
    println!("Success!")
}
```

5. ğŸŒŸğŸŒŸ